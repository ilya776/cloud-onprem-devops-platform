Index: terraform/aws-eks/main.tf
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>provider \"aws\" {\n  region = \"us-east-1\"\n}\n\nmodule \"eks\" {\n  source          = \"terraform-aws-modules/eks/aws\"\n  version         = \"20.8.4\"\n\n  cluster_name    = \"cloud-onprem-eks\"\n  cluster_version = \"1.29\"\n  subnet_ids      = var.private_subnets\n  vpc_id          = var.vpc_id\n\n  enable_irsa = true\n\n  eks_managed_node_groups = {\n    default = {\n      desired_size = 2\n      max_size     = 3\n      min_size     = 1\n\n      instance_types = [\"t3.medium\"]\n      capacity_type  = \"ON_DEMAND\"\n    }\n  }\n\n  tags = {\n    Environment = \"prod\"\n    Project     = \"cloud-onprem\"\n  }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/terraform/aws-eks/main.tf b/terraform/aws-eks/main.tf
--- a/terraform/aws-eks/main.tf	(revision 5710a9eeb899bce28b058b8b13972471fbc5b073)
+++ b/terraform/aws-eks/main.tf	(date 1745165990140)
@@ -2,9 +2,22 @@
   region = "us-east-1"
 }
 
+module "tf_backend" {
+  source  = "../modules/tf-backend"
+  project = var.project
+  env     = var.env
+}
+
+module "eks" {
+  source  = "../aws-eks"
+  project = var.project
+  env     = var.env
+}
+
+
 module "eks" {
-  source          = "terraform-aws-modules/eks/aws"
-  version         = "20.8.4"
+  source  = "terraform-aws-modules/eks/aws"
+  version = "20.8.4"
 
   cluster_name    = "cloud-onprem-eks"
   cluster_version = "1.29"
Index: .idea/.gitignore
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Terraform\n.terraform/\n*.tfstate\n*.tfstate.*\ncrash.log\n\n# Python\n__pycache__/\n*.pyc\n*.pyo\n*.pyd\n.venv/\n\n# Logs\n*.log\n\n# Kubernetes\n*.yaml~\n.kube/\n\n# Helm\ncharts/\n*.tgz\n\n# CI/CD\n.env\n.secrets\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/.gitignore b/.idea/.gitignore
--- a/.idea/.gitignore	(revision 5710a9eeb899bce28b058b8b13972471fbc5b073)
+++ b/.idea/.gitignore	(date 1745163382952)
@@ -3,6 +3,7 @@
 *.tfstate
 *.tfstate.*
 crash.log
+*.tfstate.backup
 
 # Python
 __pycache__/
@@ -24,4 +25,4 @@
 
 # CI/CD
 .env
-.secrets
+.secrets
\ No newline at end of file
Index: terraform/aws-vpc/main.tf
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>resource \"aws_vpc\" \"main\" {\n  cidr_block = var.vpc_cidr\n  tags = {\n    Name = \"${var.project}-vpc\"\n  }\n}\n\nresource \"aws_subnet\" \"public\" {\n  count             = length(var.public_subnets)\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = var.public_subnets[count.index]\n  availability_zone = var.azs[count.index]\n  map_public_ip_on_launch = true\n\n  tags = {\n    Name = \"${var.project}-public-${count.index}\"\n  }\n}\n\nresource \"aws_subnet\" \"private\" {\n  count             = length(var.private_subnets)\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = var.private_subnets[count.index]\n  availability_zone = var.azs[count.index]\n\n  tags = {\n    Name = \"${var.project}-private-${count.index}\"\n  }\n}\n\nresource \"aws_internet_gateway\" \"igw\" {\n  vpc_id = aws_vpc.main.id\n  tags = {\n    Name = \"${var.project}-igw\"\n  }\n}\n\nresource \"aws_eip\" \"nat\" {\n  count = 1\n  domain = \"vpc\"\n  depends_on = [aws_internet_gateway.igw]\n}\n\nresource \"aws_nat_gateway\" \"nat\" {\n  allocation_id = aws_eip.nat[0].id\n  subnet_id     = aws_subnet.public[0].id\n  tags = {\n    Name = \"${var.project}-nat\"\n  }\n\n  depends_on = [aws_internet_gateway.igw]\n}\n\nresource \"aws_route_table\" \"public\" {\n  vpc_id = aws_vpc.main.id\n\n  route {\n    cidr_block = \"0.0.0.0/0\"\n    gateway_id = aws_internet_gateway.igw.id\n  }\n\n  tags = {\n    Name = \"${var.project}-rt-public\"\n  }\n}\n\nresource \"aws_route_table_association\" \"public\" {\n  count          = length(aws_subnet.public)\n  subnet_id      = aws_subnet.public[count.index].id\n  route_table_id = aws_route_table.public.id\n}\n\nresource \"aws_route_table\" \"private\" {\n  vpc_id = aws_vpc.main.id\n\n  route {\n    cidr_block     = \"0.0.0.0/0\"\n    nat_gateway_id = aws_nat_gateway.nat.id\n  }\n\n  tags = {\n    Name = \"${var.project}-rt-private\"\n  }\n}\n\nresource \"aws_route_table_association\" \"private\" {\n  count          = length(aws_subnet.private)\n  subnet_id      = aws_subnet.private[count.index].id\n  route_table_id = aws_route_table.private.id\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/terraform/aws-vpc/main.tf b/terraform/aws-vpc/main.tf
--- a/terraform/aws-vpc/main.tf	(revision 5710a9eeb899bce28b058b8b13972471fbc5b073)
+++ b/terraform/aws-vpc/main.tf	(date 1745163297145)
@@ -6,10 +6,10 @@
 }
 
 resource "aws_subnet" "public" {
-  count             = length(var.public_subnets)
-  vpc_id            = aws_vpc.main.id
-  cidr_block        = var.public_subnets[count.index]
-  availability_zone = var.azs[count.index]
+  count                   = length(var.public_subnets)
+  vpc_id                  = aws_vpc.main.id
+  cidr_block              = var.public_subnets[count.index]
+  availability_zone       = var.azs[count.index]
   map_public_ip_on_launch = true
 
   tags = {
@@ -36,8 +36,8 @@
 }
 
 resource "aws_eip" "nat" {
-  count = 1
-  domain = "vpc"
+  count      = 1
+  domain     = "vpc"
   depends_on = [aws_internet_gateway.igw]
 }
 
Index: terraform/modules/tf-backend/variables.tf
===================================================================
diff --git a/terraform/modules/tf-backend/variables.tf b/terraform/modules/tf-backend/variables.tf
new file mode 100644
--- /dev/null	(date 1745164873457)
+++ b/terraform/modules/tf-backend/variables.tf	(date 1745164873457)
@@ -0,0 +1,9 @@
+variable "project" {
+  type        = string
+  description = "Project name"
+}
+
+variable "env" {
+  type        = string
+  description = "Environment name (e.g., dev, prod)"
+}
Index: terraform/modules/tf-backend/main.tf
===================================================================
diff --git a/terraform/modules/tf-backend/main.tf b/terraform/modules/tf-backend/main.tf
new file mode 100644
--- /dev/null	(date 1745164873443)
+++ b/terraform/modules/tf-backend/main.tf	(date 1745164873443)
@@ -0,0 +1,27 @@
+resource "aws_s3_bucket" "tfstate" {
+  bucket = "${var.project}-${var.env}-tfstate"
+  force_destroy = true
+
+  versioning {
+    enabled = true
+  }
+
+  tags = {
+    Name = "Terraform State Bucket"
+  }
+}
+
+resource "aws_dynamodb_table" "tf_lock" {
+  name         = "${var.project}-${var.env}-lock"
+  billing_mode = "PAY_PER_REQUEST"
+  hash_key     = "LockID"
+
+  attribute {
+    name = "LockID"
+    type = "S"
+  }
+
+  tags = {
+    Name = "Terraform Lock Table"
+  }
+}
Index: terraform/variables.tf
===================================================================
diff --git a/terraform/variables.tf b/terraform/variables.tf
new file mode 100644
--- /dev/null	(date 1745165279628)
+++ b/terraform/variables.tf	(date 1745165279628)
@@ -0,0 +1,9 @@
+variable "project" {
+  type        = string
+  description = "Project name"
+}
+
+variable "env" {
+  type        = string
+  description = "Environment name (e.g., dev, prod)"
+}
Index: .pre-commit-config.yaml
===================================================================
diff --git a/.pre-commit-config.yaml b/.pre-commit-config.yaml
new file mode 100644
--- /dev/null	(date 1745163255999)
+++ b/.pre-commit-config.yaml	(date 1745163255999)
@@ -0,0 +1,8 @@
+repos:
+  - repo: https://github.com/antonbabenko/pre-commit-terraform
+    rev: v1.77.0
+    hooks:
+      - id: terraform_fmt
+      - id: terraform_validate
+      - id: terraform_tflint
+      - id: terraform_docs
